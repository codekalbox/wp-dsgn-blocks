/**
 * WP DSGN Blocks - Editor Styles
 * 
 * Global editor-specific styles for the block editor.
 */

/* Editor-specific utilities */
.editor-styles-wrapper .wp-block-wpdsgn-section,
.editor-styles-wrapper .wp-block-wpdsgn-columns {
	margin-top: 28px;
	margin-bottom: 28px;
}

/* Block toolbar positioning */
.wp-block-wpdsgn-section > .block-editor-block-list__layout > .block-list-appender,
.wp-block-wpdsgn-columns > .block-editor-block-list__layout > .block-list-appender {
	margin: 0;
}

/* Improve visibility of empty blocks */
.wp-block-wpdsgn-section:empty,
.wp-block-wpdsgn-columns:empty {
	min-height: 100px;
	background: repeating-linear-gradient(
		45deg,
		transparent,
		transparent 10px,
		rgba(0, 124, 186, 0.05) 10px,
		rgba(0, 124, 186, 0.05) 20px
	);
	border: 2px dashed rgba(0, 124, 186, 0.3);
	display: flex;
	align-items: center;
	justify-content: center;
	position: relative;
}

.wp-block-wpdsgn-section:empty::after,
.wp-block-wpdsgn-columns:empty::after {
	content: attr(data-placeholder);
	color: rgba(0, 124, 186, 0.7);
	font-size: 14px;
	font-weight: 500;
	pointer-events: none;
}

/* Selection outlines */
.wp-block-wpdsgn-section.is-selected,
.wp-block-wpdsgn-columns.is-selected {
	box-shadow: 0 0 0 1px #007cba;
}

/* Nested block spacing */
.wp-block-wpdsgn-section .wp-block,
.wp-block-wpdsgn-columns .wp-block {
	max-width: 100%;
}

/* Block inserter button */
.wp-block-wpdsgn-section .block-list-appender .block-editor-inserter,
.wp-block-wpdsgn-columns .block-list-appender .block-editor-inserter {
	margin: 8px auto;
}

/* Inspector Controls Styling */
.wpdsgn-main-tabs {
	.components-tab-panel__tabs {
		display: flex;
		border-bottom: 1px solid #e0e0e0;
		margin-bottom: 16px;
		background: #f9f9f9;
		border-radius: 4px 4px 0 0;
		
		.components-button {
			flex: 1;
			padding: 12px 16px;
			border: none;
			background: transparent;
			border-bottom: 2px solid transparent;
			font-weight: 500;
			font-size: 13px;
			transition: all 0.2s ease;
			position: relative;
			
			&.is-active {
				color: #007cba;
				border-bottom-color: #007cba;
				background: white;
				
				&::before {
					content: '';
					position: absolute;
					bottom: -1px;
					left: 0;
					right: 0;
					height: 1px;
					background: white;
				}
			}
			
			&:hover:not(.is-active) {
				background: rgba(0, 124, 186, 0.05);
			}
			
			&:first-child {
				border-radius: 4px 0 0 0;
			}
			
			&:last-child {
				border-radius: 0 4px 0 0;
			}
		}
	}
	
	.components-tab-panel__tab-content {
		background: white;
		border: 1px solid #e0e0e0;
		border-top: none;
		padding: 20px;
		border-radius: 0 0 4px 4px;
	}
}

.wpdsgn-responsive-tabs {
	.components-tab-panel__tabs {
		display: flex;
		gap: 4px;
		margin-bottom: 16px;
		
		.components-button {
			flex: 1;
			padding: 8px 12px;
			border: 1px solid #ddd;
			background: #f9f9f9;
			font-size: 12px;
			font-weight: 500;
			border-radius: 4px;
			transition: all 0.2s ease;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 4px;
			
			&.is-active {
				background: #007cba;
				color: white;
				border-color: #007cba;
				box-shadow: 0 2px 4px rgba(0, 124, 186, 0.2);
			}
			
			&:hover:not(.is-active) {
				background: #e0e0e0;
				border-color: #ccc;
			}
			
			// Device icons (if using Dashicons)
			&[data-device="desktop"]::before {
				content: "\f472";
				font-family: dashicons;
			}
			
			&[data-device="tablet"]::before {
				content: "\f471";
				font-family: dashicons;
			}
			
			&[data-device="mobile"]::before {
				content: "\f470";
				font-family: dashicons;
			}
		}
	}
}

.wpdsgn-background-tabs {
	.components-tab-panel__tabs {
		display: flex;
		gap: 2px;
		margin-bottom: 16px;
		
		.components-button {
			flex: 1;
			padding: 10px 14px;
			border: 1px solid #ddd;
			background: #f9f9f9;
			font-size: 13px;
			font-weight: 500;
			border-radius: 4px 4px 0 0;
			transition: all 0.2s ease;
			
			&.is-active {
				background: white;
				border-bottom-color: white;
				position: relative;
				z-index: 1;
				color: #007cba;
			}
			
			&:hover:not(.is-active) {
				background: #e0e0e0;
			}
		}
	}
	
	.components-tab-panel__tab-content {
		border: 1px solid #ddd;
		border-top: none;
		padding: 16px;
		background: white;
		border-radius: 0 0 4px 4px;
	}
}

/* Control Groups */
.wpdsgn-control-group {
	margin-bottom: 20px;
	
	&:last-child {
		margin-bottom: 0;
	}
	
	.wpdsgn-control-label {
		display: block;
		margin-bottom: 8px;
		font-weight: 500;
		font-size: 13px;
		color: #1e1e1e;
		line-height: 1.4;
	}
	
	.components-button-group {
		display: flex;
		flex-wrap: wrap;
		gap: 4px;
		
		.components-button {
			flex: 1;
			min-width: 0;
			padding: 8px 12px;
			font-size: 12px;
			border: 1px solid #ddd;
			background: #f9f9f9;
			transition: all 0.2s ease;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			
			&.is-pressed {
				background: #007cba;
				color: white;
				border-color: #007cba;
				box-shadow: 0 1px 3px rgba(0, 124, 186, 0.3);
			}
			
			&:hover:not(.is-pressed) {
				background: #e0e0e0;
				border-color: #ccc;
			}
			
			&:focus {
				box-shadow: 0 0 0 2px rgba(0, 124, 186, 0.3);
			}
		}
	}
}

/* Flexbox Controls */
.wpdsgn-flexbox-controls {
	.wpdsgn-control-group {
		&:not(:last-child) {
			margin-bottom: 24px;
			padding-bottom: 20px;
			border-bottom: 1px solid #f0f0f0;
		}
	}
}

/* Gap Controls */
.wpdsgn-gap-controls {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 12px;
}

/* Spacing Controls */
.wpdsgn-spacing-controls {
	.components-box-control {
		margin-bottom: 16px;
		
		&:last-child {
			margin-bottom: 0;
		}
	}
}

/* Background Content */
.wpdsgn-bg-content {
	.components-color-picker {
		margin-bottom: 16px;
	}
	
	.components-range-control {
		margin-bottom: 16px;
	}
	
	.components-gradient-picker {
		margin-bottom: 16px;
	}
	
	.components-button {
		&:not(.components-button-group .components-button) {
			margin-bottom: 12px;
			width: 100%;
			justify-content: center;
		}
	}
	
	.components-select-control {
		margin-bottom: 16px;
	}
	
	.components-media-upload {
		.components-button {
			width: 100%;
			padding: 12px;
			border: 2px dashed #ddd;
			background: #f9f9f9;
			transition: all 0.2s ease;
			
			&:hover {
				border-color: #007cba;
				background: rgba(0, 124, 186, 0.05);
			}
		}
	}
}

/* Panel Body Improvements */
.components-panel__body {
	.components-panel__body-title {
		.components-button {
			font-weight: 500;
			padding: 16px;
		}
	}
	
	.components-panel__body-content {
		padding: 16px;
	}
}

/* Form Control Improvements */
.components-unit-control,
.components-text-control,
.components-select-control {
	margin-bottom: 16px;
	
	&:last-child {
		margin-bottom: 0;
	}
}

.components-range-control {
	margin-bottom: 20px;
	
	&:last-child {
		margin-bottom: 0;
	}
}

.components-toggle-control {
	margin-bottom: 16px;
	
	&:last-child {
		margin-bottom: 0;
	}
	
	.components-toggle-control__label {
		font-weight: 500;
	}
}

