(()=>{"use strict";var e,r={790:e=>{e.exports=window.ReactJSXRuntime},1455:e=>{e.exports=window.wp.apiFetch},1609:e=>{e.exports=window.React},3582:e=>{e.exports=window.wp.coreData},4715:e=>{e.exports=window.wp.blockEditor},4997:e=>{e.exports=window.wp.blocks},5573:e=>{e.exports=window.wp.primitives},5795:e=>{e.exports=window.ReactDOM},5941:(e,r,o)=>{var t=o(9494),a=o(6949),l=o(3437),s=o(7723);const n={mapType:{default:"simple",options:[{label:(0,s.__)("Location","uicore-blocks"),value:"simple"},{label:(0,s.__)("Marker","uicore-blocks"),value:"advanced"}],categories:["render"],type:"string",label:(0,s.__)("Location Type","uicore-blocks"),controllerType:"Choose"},location:{type:"string",default:"",controllerType:"Input",mode:"text",label:(0,s.__)("Location","uicore-blocks"),conditions:{mapType:"simple"},categories:["render"]},zoom:{type:"number",default:10,min:0,max:22,label:(0,s.__)("Zoom Level","uicore-blocks"),controllerType:"Input",categories:["render"],showSlider:!0},customMarkers:{type:"array",default:[],addLabel:(0,s.__)("Add Map Location","uicore-blocks"),repeater:"GoogleMaps",label:(0,s.__)("Custom Marker","uicore-blocks"),controllerType:"Repeater",categories:["render"],conditions:{mapType:"advanced"}},hasClusterMarkers:{default:!1,options:[{label:(0,s.__)("On","uicore-blocks"),value:!0},{label:(0,s.__)("Off","uicore-blocks"),value:!1}],categories:["render"],type:"boolean",label:(0,s.__)("Cluster Markers","uicore-blocks"),controllerType:"Choose",conditions:{mapType:"advanced"}}},i=(0,l._)(n);delete i.url,delete i.target,delete i.tag,delete i.font,delete i.fontSize,delete i.letterSpacing,delete i.lineHeight,delete i.textAlign,delete i.textTransform,delete i.wordBreak,delete i.lineBreak,delete i.textWrap,delete i.linkColor,delete i.color,delete i.display;const c={...i,borderStyle:{...i.borderStyle,options:a.k7}};var p=o(7143),u=o(6087),d=o(790);const m=uicore_blocks_editor_settings?.googlemaps_api_key,C=ui_blocks_data?.admin_url;window.uicoreInitMap=()=>{},(0,t.N)({name:"uicore/google-maps",Edit:({attributes:e,wrapperProps:r,clientId:o})=>{const{zoom:t,location:a,customMarkers:l,mapType:n,hasClusterMarkers:i}=e,c=(0,u.useRef)(null),w=(0,u.useRef)(null),g=(0,u.useRef)([]),b=(0,u.useRef)(null);(0,u.useEffect)(()=>{"advanced"===n&&((e,r,o,t)=>{if(!e.current)return;const[a]=o||[],l={lat:parseFloat(a?.latitude||37.7749),lng:parseFloat(a?.longitude||-122.4194)};r.current=new window.google.maps.Map(e.current,{zoom:+t,center:l})})(c,w,l,t)},[n]),(0,u.useEffect)(()=>{if(!w.current)return;const e=w.current;g.current.forEach(e=>e.setMap(null)),g.current=[],b.current&&(b.current.clearMarkers(),b.current=null),l.forEach(e=>((e,r,o=[])=>{if(!e?.latitude||!e?.longitude)return;const t={lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)},a=e?.markerSize||24,l=e.markerIcon?.url?{url:e.markerIcon.url,scaledSize:new google.maps.Size(a,a)}:void 0,s=new window.google.maps.Marker({position:t,map:r,...l?{icon:l}:{}});o.push(s)})(e,null,g.current)),i||g.current.forEach(r=>r.setMap(e)),g.current.length>0&&e.setCenter(g.current[0].getPosition())},[l,i]),(0,u.useEffect)(()=>{i&&w.current&&g.current.length>0&&((e,r,o)=>{window.markerClusterer&&window.markerClusterer.MarkerClusterer&&(e.current=new window.markerClusterer.MarkerClusterer({markers:r,map:o}))})(b,g.current,w.current)},[i,l]),(0,u.useEffect)(()=>{if(w.current){const e=parseInt(t,10);w.current.setZoom(e)}},[t]);const k=e=>{e.preventDefault(),e.stopPropagation(),(0,p.dispatch)("core/block-editor").selectBlock(o)};return(0,d.jsx)(d.Fragment,{children:"simple"===n?(0,d.jsxs)("div",{className:"uicore-bl-google-maps-iframe-wrp",children:[(0,d.jsx)("iframe",{...r,className:r.className||"",src:`https://maps.google.com/maps?q=${encodeURIComponent(a)}&z=${t}&t=m&output=embed`}),(0,d.jsx)("div",{className:"uicore-overlay-select-map",onClick:k})]},"simple-map"):"advanced"===n&&(0,d.jsxs)("div",{...r,className:`${i?"uicore-bl-cluster-markers":""} uicore-bl-google-maps ${m?"has-api-key":""} ${r.className||""}`,onClick:k,children:[(0,d.jsx)("div",{className:"uicore-bl-google-maps-container",ref:c}),!m&&(0,d.jsx)("div",{className:"uicore-google-maps-api-error-wrapper",children:(0,d.jsx)("p",{children:(0,u.createInterpolateElement)((0,s.__)("Please set your <link>Google Maps API Key</link>, then reload the page.","uicore-blocks"),{link:(0,d.jsx)("a",{onClick:()=>window.open(`${C}options-general.php?page=uicore-blocks`,"_blank"),rel:"noreferrer",className:"uicore-google-maps-api-key-link"})})})})]},"advanced-map")})},Save:({attributes:e,wrapperProps:r})=>{const{location:o,zoom:t,mapType:a,customMarkers:l,hasClusterMarkers:s}=e;return(0,d.jsx)(d.Fragment,{children:"simple"===a?(0,d.jsx)("iframe",{...r,className:`uicore-bl-google-maps-iframe-wrp ${r.className||""}`,src:`https://maps.google.com/maps?q=${encodeURIComponent(o)}&z=${t}&t=m&output=embed`}):"advanced"===a&&(0,d.jsx)("div",{...r,className:`${s?"uicore-bl-cluster-markers":""} uicore-bl-google-maps ${r.className||""}`,"data-zoom":t,"data-has-cluster-markers":s,"data-markers":l?JSON.stringify(l):""})})},attributes:c,quickSettings:["width","height"],disableWrapper:!0,Icon:()=>(0,d.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{opacity:"0.12",d:"M2 6.69702V19.0348C2 20.0113 2 20.4996 2.2054 20.7866C2.38464 21.0372 2.66071 21.201 2.96646 21.2384C3.31685 21.2813 3.74549 21.0475 4.60278 20.5799L5.32855 20.184C6.30998 19.6487 6.80069 19.381 7.32198 19.2573C7.78382 19.1477 8.26148 19.1211 8.73262 19.1789C9.2644 19.2441 9.78175 19.4557 10.8165 19.879L13.1835 20.8474C14.2182 21.2707 14.7356 21.4823 15.2674 21.5475C15.7385 21.6053 16.2162 21.5788 16.678 21.4691C17.1993 21.3454 17.69 21.0777 18.6714 20.5424L20.7492 19.4091C21.2043 19.1609 21.4318 19.0368 21.5975 18.8589C21.7442 18.7015 21.8552 18.5144 21.9232 18.3103C22 18.0796 22 17.8204 22 17.3021V4.96437C22 3.98784 22 3.49957 21.7946 3.2125C21.6154 2.96198 21.3393 2.7981 21.0335 2.7607C20.6832 2.71785 20.2545 2.95166 19.3972 3.41927L18.6714 3.81514C17.69 4.35047 17.1993 4.61813 16.678 4.74186C16.2162 4.85149 15.7385 4.87803 15.2674 4.82025C14.7356 4.75504 14.2182 4.5434 13.1835 4.12011L10.8165 3.15176C9.78175 2.72847 9.2644 2.51683 8.73262 2.45162C8.26148 2.39384 7.78382 2.42038 7.32198 2.53001C6.80069 2.65374 6.30998 2.9214 5.32855 3.45673L3.25076 4.59007L3.25075 4.59007C2.79574 4.83826 2.56824 4.96235 2.40248 5.14027C2.25585 5.29767 2.14479 5.48476 2.07683 5.68886C2 5.91957 2 6.17872 2 6.69702Z",fill:"#6431F6"}),(0,d.jsx)("path",{d:"M21.2502 4.96509C21.2502 4.4621 21.2495 4.13633 21.2277 3.89868C21.2057 3.65866 21.1694 3.62824 21.1847 3.64966C21.1277 3.56995 21.0398 3.518 20.9425 3.50611C20.9687 3.5093 20.9248 3.4924 20.7033 3.58814C20.4843 3.68278 20.1983 3.83764 19.757 4.07837L19.0304 4.47388C18.0854 4.98933 17.4935 5.31952 16.8517 5.47193C16.8182 5.47989 16.7838 5.48618 16.7502 5.49341V20.6663C17.0872 20.5471 17.4997 20.3284 18.3127 19.885L20.3898 18.7512C20.8905 18.4781 20.9858 18.4157 21.049 18.3479C21.1221 18.2693 21.1781 18.1763 21.2121 18.0745C21.2413 17.9866 21.2501 17.8732 21.2502 17.303V4.96509ZM8.75015 18.427C8.77479 18.4296 8.79976 18.4318 8.82437 18.4348C9.47913 18.5152 10.1043 18.7782 11.1007 19.1858L13.4679 20.1536C14.4458 20.5536 14.8727 20.7216 15.2502 20.7864V5.57251C15.2255 5.56989 15.2005 5.56869 15.1759 5.56568C14.5212 5.48533 13.896 5.22232 12.8996 4.8147L10.5324 3.84693C9.55432 3.44681 9.12761 3.27785 8.75015 3.21314V18.427ZM2.75015 19.0354C2.75015 19.5384 2.75082 19.8642 2.77261 20.1018C2.79465 20.3418 2.8309 20.3722 2.81558 20.3508C2.87261 20.4305 2.96048 20.4825 3.05777 20.4944C3.03162 20.4912 3.07548 20.5081 3.29703 20.4124C3.51603 20.3177 3.80198 20.1629 4.24331 19.9221L4.96988 19.5266C5.91486 19.0112 6.50683 18.681 7.14859 18.5286C7.18221 18.5206 7.21639 18.5133 7.25015 18.5061V3.33325C6.91303 3.45234 6.50084 3.67192 5.68765 4.11548L3.6105 5.24927C3.10975 5.52241 3.01448 5.58479 2.95132 5.65259C2.87819 5.73116 2.82219 5.82421 2.78824 5.92603C2.75897 6.01393 2.75015 6.12727 2.75015 6.69751V19.0354ZM22.7502 17.303C22.7502 17.7691 22.7593 18.1746 22.6349 18.5481C22.533 18.854 22.3664 19.1344 22.1466 19.3704C21.8783 19.6584 21.5178 19.8454 21.1085 20.0686L19.0304 21.2014C18.0855 21.7168 17.4935 22.0471 16.8517 22.1995C16.3033 22.3296 15.7354 22.3608 15.1759 22.2922C14.5212 22.2119 13.8959 21.9498 12.8996 21.5422L10.5324 20.5735C9.46001 20.1348 9.05033 19.9742 8.64175 19.9241C8.25895 19.8771 7.87051 19.8985 7.49527 19.9876C7.09464 20.0827 6.70525 20.288 5.68765 20.843L4.96206 21.2385C4.54635 21.4653 4.18893 21.6609 3.89175 21.7893C3.59711 21.9166 3.25159 22.0297 2.87515 21.9836C2.36117 21.9207 1.89723 21.645 1.59585 21.2239C1.37514 20.9154 1.30779 20.5582 1.27847 20.2385C1.24891 19.9161 1.25015 19.5089 1.25015 19.0354V6.69751C1.25015 6.2314 1.24102 5.82587 1.36538 5.4524C1.46728 5.14646 1.63391 4.86611 1.85367 4.63013C2.12202 4.34208 2.48248 4.15513 2.89175 3.93189L4.96988 2.79907C5.91482 2.28365 6.50683 1.95342 7.14859 1.80103C7.69702 1.67085 8.26489 1.63965 8.82437 1.70825C9.4791 1.78861 10.1044 2.05066 11.1007 2.45825L13.4679 3.427C14.5403 3.8657 14.95 4.02627 15.3585 4.07642C15.7414 4.12336 16.1298 4.10201 16.505 4.01294C16.9057 3.91784 17.2951 3.71253 18.3127 3.15747L19.0382 2.76197C19.454 2.53521 19.8114 2.33961 20.1085 2.21118C20.4032 2.08387 20.7487 1.97081 21.1252 2.01685C21.6391 2.07982 22.1031 2.35552 22.4044 2.77661C22.6252 3.0851 22.6925 3.44229 22.7218 3.76197C22.7514 4.08435 22.7502 4.49156 22.7502 4.96509V17.303Z",fill:"#6431F6"})]})})},6087:e=>{e.exports=window.wp.element},6427:e=>{e.exports=window.wp.components},7143:e=>{e.exports=window.wp.data},7723:e=>{e.exports=window.wp.i18n},8468:e=>{e.exports=window.lodash},8537:e=>{e.exports=window.wp.htmlEntities},9491:e=>{e.exports=window.wp.compose}},o={};function t(e){var a=o[e];if(void 0!==a)return a.exports;var l=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}t.m=r,e=[],t.O=(r,o,a,l)=>{if(!o){var s=1/0;for(p=0;p<e.length;p++){for(var[o,a,l]=e[p],n=!0,i=0;i<o.length;i++)(!1&l||s>=l)&&Object.keys(t.O).every(e=>t.O[e](o[i]))?o.splice(i--,1):(n=!1,l<s&&(s=l));if(n){e.splice(p--,1);var c=a();void 0!==c&&(r=c)}}return r}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[o,a,l]},t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),t.j=151,(()=>{var e={151:0,3622:0,6974:0,4815:0};t.O.j=r=>0===e[r];var r=(r,o)=>{var a,l,[s,n,i]=o,c=0;if(s.some(r=>0!==e[r])){for(a in n)t.o(n,a)&&(t.m[a]=n[a]);if(i)var p=i(t)}for(r&&r(o);c<s.length;c++)l=s[c],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(p)},o=globalThis.webpackChunkuicore_blocks=globalThis.webpackChunkuicore_blocks||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))})();var a=t.O(void 0,[2123,8096,2076,4815],()=>t(5941));a=t.O(a)})();