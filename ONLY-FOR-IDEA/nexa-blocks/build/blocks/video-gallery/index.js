(()=>{var e,t={4763:(e,t,o)=>{"use strict";const l=window.wp.blocks,a=window.wp.i18n,r="videoGrid",n="videoGap",i="videoBorder",s="videoRadius",d="videomargin",c="videoPadding",u="videoSize",{generateBorderAttributes:m,generateResBoxControlAttributes:p,generateResRangeAttributes:b}=window.nexaModules,y={globalSettings:{type:"object",default:{padding:{controlName:"mainPadding"},margin:{controlName:"mainMargin"},border:{controlName:"mainBorder"},borderRadius:{controlName:"mainBorderRadius"},boxShadow:{controlName:"mainBoxShadow"},bg:{controlName:"mainBg"}}},nexaVideoGallery:{type:"array",default:[]},autoPlay:{type:"boolean",default:!0},loop:{type:"boolean",default:!1},mute:{type:"boolean",default:!1},playerControl:{type:"boolean",default:!0},preload:{type:"string",default:"metadata"},startTime:{type:"number",default:0},endTime:{type:"number",default:null},videoLayoutType:{type:"string",default:"inline"},videoSource:{type:"string",default:"custom"},...b({controlName:r}),...b({controlName:n}),...b({controlName:u}),...m({controlName:i}),...p({controlName:s}),...p({controlName:d}),...p({controlName:c})},v=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"nexa/video-gallery","version":"1.0.0","title":"Video Gallery","category":"nexa-blocks","description":"Advanced Heading block for Gutenberg","supports":{"html":false,"align":["wide","full"],"className":false,"customClassName":false},"example":{},"textdomain":"nexa-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),g=window.React,x=window.wp.blockEditor,f=window.wp.components,w=window.wp.element;var E=o(6942),k=o.n(E);const h=window.wp.data,_=(e,t=[])=>{let o="";return t.forEach((e=>{if(""!==e?.v&&null!=e?.v&&!1!==e?.v&&"-null"!==e?.v)if(e?.p){const t=e.i?" !important":"";o+=`${e.p}:${e.v}${t};`}else{const t=e.v.trim();e.i?o+=t.endsWith(";")?t.slice(0,-1)+" !important;":`${t} !important;`:o+=t.endsWith(";")?t:`${t};`}})),o?`${e}{${o}}`:""},S=e=>"object"!=typeof e?"":[...new Set(e)].join(" "),{HeaderTabs:N,BorderControl:T,ResBoxControl:C,AdvancedSettings:V,ResRangeControl:A,RepeaterControl:$,SortableItem:B}=window.nexaModules,{HEADING_TAGS:P}=window.nexaModules.GlobalConstants,G=e=>{const{attributes:t,setAttributes:o}=e,{nexaVideoGallery:l,mute:m,autoPlay:p,loop:b,playControl:v}=t,[E,k]=(0,w.useState)(""),h={attributes:t,setAttributes:o,objAttributes:y},_=e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^#&?]*)/];for(const o of t){const t=e.match(o);if(11===t?.[1]?.length)return t[1]}return null};return(0,g.createElement)(x.InspectorControls,null,(0,g.createElement)(N,{generalControls:(0,g.createElement)(g.Fragment,null,(0,g.createElement)(f.PanelBody,{title:(0,a.__)("Add YouTube Video","nexa-blocks"),initialOpen:!0},(0,g.createElement)(f.PanelRow,null,(0,g.createElement)("div",{style:{width:"100%"}},(0,g.createElement)(f.TextControl,{label:(0,a.__)("YouTube Video URL","nexa-blocks"),value:E,onChange:e=>k(e),placeholder:(0,a.__)("https://www.youtube.com/watch?v=...","nexa-blocks"),help:(0,a.__)("Enter a YouTube video URL to add to the gallery","nexa-blocks")}),(0,g.createElement)(f.Button,{isPrimary:!0,onClick:()=>{if(!E.trim())return void alert((0,a.__)("Please enter a YouTube URL","nexa-blocks"));const e=_(E);if(!e)return void alert((0,a.__)("Please enter a valid YouTube URL","nexa-blocks"));if(l?.some((t=>"youtube"===t.type&&t.videoId===e)))return void alert((0,a.__)("This YouTube video is already in the gallery","nexa-blocks"));const t={id:Date.now(),url:E,embedUrl:`https://www.youtube.com/embed/${e}`,videoId:e,type:"youtube",title:`YouTube Video ${e}`,label:`YouTube: ${e}`,caption:"",poster:`https://img.youtube.com/vi/${e}/maxresdefault.jpg`,mime:"video/youtube"};o({nexaVideoGallery:[...l||[],t]}),k("")},disabled:!E.trim(),style:{marginTop:"10px",width:"100%"}},(0,a.__)("Add YouTube Video","nexa-blocks")))),l&&l.length>0&&(0,g.createElement)(f.PanelRow,null,(0,g.createElement)("div",{style:{fontSize:"12px",color:"#666",margin:"10px 0 0 0",padding:"10px",backgroundColor:"#f0f6fc",borderRadius:"4px",width:"100%"}},(0,g.createElement)("strong",null,(0,a.__)("Gallery Stats:","nexa-blocks")),(0,g.createElement)("br",null),(0,a.__)("Total Videos:","nexa-blocks")," ",l.length,(0,g.createElement)("br",null),(0,a.__)("YouTube Videos:","nexa-blocks")," ",l.filter((e=>"youtube"===e.type)).length,(0,g.createElement)("br",null),(0,a.__)("Local Videos:","nexa-blocks")," ",l.filter((e=>"youtube"!==e.type)).length))),(0,g.createElement)(f.PanelBody,{title:(0,a.__)("Grid","nexa"),initialOpen:!1},(0,g.createElement)(A,{label:(0,a.__)("Grid Columns","nexa-blocks"),controlName:r,objAttrs:h,min:1,max:12,noUnits:!0}),(0,g.createElement)(A,{label:(0,a.__)("Grid Gap","nexa-blocks"),controlName:n,objAttrs:h,min:0,max:100,noUnits:!0})),(0,g.createElement)(f.PanelBody,{title:(0,a.__)("Video Settings","nexa-blocks"),initialOpen:!1},(0,g.createElement)(f.ToggleControl,{label:(0,a.__)("Mute Video","nexa-blocks"),checked:m,onChange:e=>o({mute:e})}),(0,g.createElement)(f.ToggleControl,{label:(0,a.__)("Autoplay Video","nexa-blocks"),checked:p,onChange:e=>o({autoPlay:e})}),(0,g.createElement)(f.ToggleControl,{label:(0,a.__)("Loop Video","nexa-blocks"),checked:b,onChange:e=>o({loop:e})}),(0,g.createElement)(f.ToggleControl,{label:(0,a.__)("Show Player Controls","nexa-blocks"),checked:v,onChange:e=>o({playControl:e})})),(0,g.createElement)(f.PanelBody,{title:(0,a.__)("Video Gallery Management","nexa-blocks"),initialOpen:!1},(0,g.createElement)($,{attributeName:"nexaVideoGallery",items:l||[],setAttributes:o,onClick:()=>{const e={id:Date.now(),type:"local",title:"Local Video",label:"Local Video",url:"",poster:"",caption:"",mime:"video/mp4"};o({nexaVideoGallery:[...l||[],e]})},addButtonText:(0,a.__)("Add Local Video Slot","nexa-blocks")},l&&l.map(((e,t)=>(0,g.createElement)(B,{key:e.id||t,id:e.id||t,title:e.label||e.title||`Video ${t+1}`,items:l,attributeName:"nexaVideoGallery",setAttributes:o,index:t},(0,g.createElement)("div",{style:{padding:"10px"}},(0,g.createElement)("div",null,e.url?"youtube"===e.type?(0,g.createElement)("div",null,(0,g.createElement)("iframe",{src:`${e.embedUrl}?controls=0&modestbranding=1&rel=0&autoplay=0&mute=1`,frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"YouTube Video Preview"})):(0,g.createElement)("div",{style:{position:"relative"}},(0,g.createElement)("video",{src:e.url,controls:!1,muted:!0,poster:e.poster,preload:"metadata",onMouseEnter:e=>{e.target.currentTime=1},onLoadedMetadata:e=>{e.target.currentTime=1}})):(0,g.createElement)("div",null,(0,g.createElement)("div",{style:{fontSize:"24px",marginBottom:"8px"}},(e.type,"")),(0,g.createElement)("div",null,"youtube"===e.type?"No YouTube Video":"No Local Video"))),"youtube"===e.type?(0,g.createElement)(f.TextControl,{label:(0,a.__)("YouTube URL","nexa-blocks"),value:e.url||"",onChange:e=>{const a=_(e);if(a){const r=[...l];r[t]={...r[t],url:e,videoId:a,embedUrl:`https://www.youtube.com/embed/${a}`,poster:`https://img.youtube.com/vi/${a}/maxresdefault.jpg`,label:`YouTube: ${a}`},o({nexaVideoGallery:r})}},placeholder:"https://www.youtube.com/watch?v=..."}):(0,g.createElement)(x.MediaUpload,{onSelect:e=>{const a=[...l];a[t]={...a[t],...e,type:"local",label:e.title||e.filename||"Local Video"},o({nexaVideoGallery:a})},allowedTypes:["video"],render:({open:t})=>(0,g.createElement)(f.Button,{isPrimary:!0,onClick:t,style:{width:"100%"}},e.url?(0,a.__)("Change Video","nexa-blocks"):(0,a.__)("Select Video","nexa-blocks"))})))))),l&&l.length>0&&(0,g.createElement)("div",{style:{marginTop:"15px"}},(0,g.createElement)(f.Button,{isDestructive:!0,isSecondary:!0,onClick:()=>{confirm((0,a.__)("Are you sure you want to remove all videos?","nexa-blocks"))&&o({nexaVideoGallery:[]})}},(0,a.__)("Clear All Videos","nexa-blocks"))))),styleControls:(0,g.createElement)(g.Fragment,null,(0,g.createElement)(f.PanelBody,{title:(0,a.__)("video","nexa-blocks"),initialOpen:!1},(0,g.createElement)(A,{label:(0,a.__)("Video Size","nexa-blocks"),controlName:u,objAttrs:h,min:100,max:1e3}),(0,g.createElement)(T,{controlName:i,objAttrs:h}),(0,g.createElement)(C,{controlName:s,objAttrs:h,label:(0,a.__)("Border Radius","nexa-blocks"),min:0,max:100,noUnits:!0}),(0,g.createElement)(C,{controlName:d,objAttrs:h,label:(0,a.__)("Margin","nexa-blocks"),min:0,max:100,noUnits:!0}),(0,g.createElement)(C,{controlName:c,objAttrs:h,label:(0,a.__)("Padding","nexa-blocks"),min:0,max:100,noUnits:!0}))),advancedControls:(0,g.createElement)(g.Fragment,null,(0,g.createElement)(V,{attributes:t,setAttributes:o,objAttrs:h}))}))},{generateBorderStyles:R,generateResBoxStyles:I,generateRangeStyles:j,GlobalStyleHandler:U}=window.nexaModules,L=e=>{const{attributes:t,setAttributes:o}=e,{uniqueId:l}=t,{deskStyle:a,tabStyle:m,mobStyle:p}=j({controlName:r,attributes:t,noProperty:!0,noUnits:!0}),{deskStyle:b,tabStyle:y,mobStyle:v}=j({controlName:n,attributes:t,propertyName:"gap"}),{deskStyle:x,tabStyle:f,mobStyle:w}=j({controlName:u,attributes:t,propertyName:"width"}),{desktopStyles:E,tabletStyles:k,mobileStyles:h,hoverColor:S}=R({controlName:i,attributes:t}),{boxDeskStyles:N,boxTabStyles:T,boxMobStyles:C}=I({controlName:s,attributes:t,propertyName:"border-radius",forRadius:!0}),{boxDeskStyles:V,boxTabStyles:A,boxMobStyles:$}=I({controlName:c,attributes:t,propertyName:"padding",forRadius:!1}),{boxDeskStyles:B,boxTabStyles:P,boxMobStyles:G}=I({controlName:d,attributes:t,propertyName:"margin",forRadius:!1}),L=`\n        ${_(`.${l}.wp-block-nexa-video-gallery .nexa-video-gallery `,[{p:"grid-template-columns",v:`repeat(${a}, 1fr)`},{v:b}])}  \n        ${_(`.${l}.wp-block-nexa-video-gallery .nexa-item`,[{v:E},{v:N},{v:V},{v:x},{v:B}])}  \n        \n    `,M=`\n         ${_(`.${l}.wp-block-nexa-video-gallery .nexa-video-gallery `,[{p:"grid-template-columns",v:`repeat(${m}, 1fr)`},{v:y}])} \n        ${_(`.${l}.wp-block-nexa-video-gallery .nexa-item `,[{v:k},{v:T},{v:A},{v:P},{v:f}])}  \n        \n    `,O=`\n         ${_(`.${l}.wp-block-nexa-video-gallery .nexa-video-gallery `,[{p:"grid-template-columns",v:`repeat(${p}, 1fr)`},{v}])} \n         ${_(`.${l}.wp-block-nexa-video-gallery .nexa-item`,[{v:h},{v:C},{v:$},{v:G},{v:w}])}  \n    `;return(0,g.createElement)(U,{attributes:t,setAttributes:o,deskStyles:L,tabStyles:M,mobStyles:O})},M=({video:e,attributes:t})=>{const o=(0,w.useRef)(null),{autoPlay:l,loop:r,mute:n,playerControl:i,preload:s,posterImage:d}=t;if((0,w.useEffect)((()=>{if(e?.url&&"youtube"!==e.type&&o.current){o.current.load(),t?.startTime&&(o.current.currentTime=t?.startTime);const e=()=>{o.current.currentTime>=t?.endTime&&o.current.pause()};return t?.endTime&&o.current.addEventListener("timeupdate",e),()=>{o.current?.removeEventListener("timeupdate",e),o.current?.pause()}}}),[e,l,r,n,i,s,d]),"youtube"===e.type){const t=new URLSearchParams({autoplay:l?"1":"0",loop:r?"1":"0",mute:n?"1":"0",controls:i?"1":"0",rel:"0",modestbranding:"1",playsinline:"1"});return(0,g.createElement)("div",{className:k()("video-gallery-player youtube-player")},(0,g.createElement)("div",{className:"youtube-wrapper"},(0,g.createElement)("iframe",{src:`${e.embedUrl}?${t}`,title:e.title||"YouTube Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))}return(0,g.createElement)("div",{className:"video-gallery-player"},(0,g.createElement)("video",{ref:o,width:"100%",height:"auto",autoPlay:l,loop:r,muted:n,controls:i,preload:s||"metadata",poster:e?.poster||d},(0,g.createElement)("source",{src:e?.url,type:e?.mime||"video/mp4"}),(0,a.__)("Your browser does not support the video tag.","nexa-blocks")))},O=({video:e,attributes:t})=>{const{autoPlay:o,loop:l,mute:r,playerControl:n,preload:i,posterImage:s}=t;if("youtube"===e.type){const t=new URLSearchParams({autoplay:o?"1":"0",loop:l?"1":"0",mute:r?"1":"0",controls:n?"1":"0",rel:"0",modestbranding:"1",playsinline:"1"});return(0,g.createElement)("div",{className:k()("video-gallery-player","youtube-player")},(0,g.createElement)("div",{className:"youtube-wrapper",style:{position:"relative",paddingBottom:"100px",height:100}},(0,g.createElement)("iframe",{src:`${e.embedUrl}?${t.toString()}`,title:e.title||"YouTube Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})))}return(0,g.createElement)("div",{className:"video-gallery-player"},(0,g.createElement)("video",{width:"100%",height:"100%",autoPlay:o,loop:l,muted:r,controls:n,preload:i||"metadata",poster:e?.poster||s},(0,g.createElement)("source",{src:e?.url,type:e?.mime||"video/mp4"}),(0,a.__)("Your browser does not support the video tag.","nexa-blocks")))},{BlockIcons:Y}=window?.nexaModules;(0,l.registerBlockType)(v,{icon:{src:Y?.default["video-gallery"]},attributes:y,edit:e=>{const{attributes:t,setAttributes:o,clientId:l,isSelected:r}=e,{uniqueId:n,nexaId:i,parentClassess:s,nexaVideoGallery:d,entranceAnimation:c}=t,[u,m]=(0,w.useState)("");(0,w.useEffect)((()=>{(({uniqueId:e,setAttributes:t,clientId:o})=>{const l="nexa-blocks-"+Math.random().toString(36).substr(2,8);if(!e)return void t({uniqueId:l});const a=(0,h.select)("core/block-editor").getBlocks();let r=!1;const n=a=>{if(!r)for(const i of a){const{innerBlocks:a}=i;if(i.attributes.uniqueId===e){if(i.clientId!==o)return t({uniqueId:l}),void(r=!0);a.length>0&&n(a)}else a.length>0&&n(a)}};n(a)})({uniqueId:n,setAttributes:o,clientId:l})}),[]);const p=(0,x.useBlockProps)({className:k()(n,S(s))}),b=d?.length?(0,g.createElement)("div",{className:`nexa-video-gallery ${n}`,"data-uniqueid":n,"data-entranceanimation":c||"fade"},d.map(((e,o)=>(0,g.createElement)("div",{className:"nexa-item",key:e.id||o},(0,g.createElement)("div",{className:"nexa-video-wrap"},(0,g.createElement)(M,{video:e,attributes:t})))))):(0,g.createElement)(x.MediaPlaceholder,{onSelect:e=>{const t=Array.isArray(e)?e.map((e=>({...e,type:"local"}))):[{...e,type:"local"}];o({nexaVideoGallery:t})},gallery:!0,multiple:!0,allowedTypes:["video"],labels:{title:(0,a.__)("Create Video Gallery","nexa-blocks"),instructions:(0,a.__)("Select videos or add YouTube videos from the toolbar.","nexa-blocks")}});return(0,g.createElement)(w.Fragment,null,r&&(0,g.createElement)(G,{...e}),(0,g.createElement)(L,{...e}),(0,g.createElement)(x.BlockControls,null,(0,g.createElement)(f.ToolbarGroup,null,(0,g.createElement)(x.MediaUpload,{onSelect:e=>{const t=Array.isArray(e)?e.map((e=>({...e,type:"local"}))):[{...e,type:"local"}];o({nexaVideoGallery:[...d||[],...t]})},allowedTypes:["video"],multiple:!0,render:({open:e})=>(0,g.createElement)(f.ToolbarButton,{label:(0,a.__)("Add Local Videos","nexa-blocks"),icon:"plus-alt2",onClick:e})}))),(0,g.createElement)("div",{...p,...i&&{id:i}},b))},save:e=>{const{attributes:t}=e,{uniqueId:o,nexaId:l,parentClassess:a,nexaVideoGallery:r,entranceAnimation:n}=t,i=x.useBlockProps.save({className:k()(o,"wp-block-nexa-video-gallery",S(a))});return r?.length?(0,g.createElement)("div",{...i,...l&&{id:l}},(0,g.createElement)("div",{className:`nexa-video-gallery ${o}`,"data-uniqueid":o,"data-entranceanimation":n||"fade"},r.map(((e,o)=>(0,g.createElement)("div",{className:"nexa-item",key:e.id||o},(0,g.createElement)("div",{className:"nexa-video-wrap"},(0,g.createElement)(O,{video:e,attributes:t}))))))):null}})},6942:(e,t)=>{var o;!function(){"use strict";var l={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=n(e,r(o)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)l.call(e,o)&&e[o]&&(t=n(t,o));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()}},o={};function l(e){var a=o[e];if(void 0!==a)return a.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=(t,o,a,r)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){for(var[o,a,r]=e[c],i=!0,s=0;s<o.length;s++)(!1&r||n>=r)&&Object.keys(l.O).every((e=>l.O[e](o[s])))?o.splice(s--,1):(i=!1,r<n&&(n=r));if(i){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,a,r]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={6913:0,6789:0};l.O.j=t=>0===e[t];var t=(t,o)=>{var a,r,[n,i,s]=o,d=0;if(n.some((t=>0!==e[t]))){for(a in i)l.o(i,a)&&(l.m[a]=i[a]);if(s)var c=s(l)}for(t&&t(o);d<n.length;d++)r=n[d],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},o=globalThis.webpackChunknexa_blocks=globalThis.webpackChunknexa_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=l.O(void 0,[6789],(()=>l(4763)));a=l.O(a)})();