!function(e){"use strict";class t{constructor(){this.loadedFonts=[],this.events()}events(){const e=this;_.each(window.nectarPostMessageFields,(function(t){wp.customize(t.id,(function(a){const s=a.get();e.onChange(t,s),a.bind((a=>{e.onChange(t,a)}))}))}))}onChange(e,t){const a=this;let s="";_.each(e.nectar_post_message_data,(o=>{s+=a.processCSS(o,t,e.type)})),a.addData(e.id,s)}processCSS(e,t,a){let s="";if("color_gradient"===a){s+=e.element+"{",s+=e.fallback_declarations;let a=e.value_pattern.replace(/\$/,t.to);a=a.replace(/\$/,t.from),a=a.replace(/\$/,t.to),s+=`${e.property} : ${a};`,s+="}"}else if("multicolor"===a)e.custom_selector_mapping&&_.each(e.custom_selector_mapping,(function(a,o){s+=a+"{",s+=`${e.property} : ${t[o]}!important;`,s+="}"}));else if("typography"===a)return;return s}loadFont(t){const a=`https://fonts.googleapis.com/css?family=${encodeURIComponent(t["font-family"])}:100,200,300,400,500,600,700,800`;e("head").append(`<link rel="stylesheet" id="nectar-postmessage-google-font-${Math.ceil(1e5*Math.random())}" href="${a}" />`)}createStyle(t){t=t.replace(/[^\w\s]/gi,"-"),null!==document.getElementById("nectar-postmessage-"+t)&&void 0!==document.getElementById("nectar-postmessage-"+t)||e("head").append('<style id="nectar-postmessage-'+t+'"></style>')}addData(t,a){t=t.replace("[","-").replace("]",""),this.createStyle(t),e("#nectar-postmessage-"+t).text(a)}}e(document).ready((()=>{new t}))}(jQuery);