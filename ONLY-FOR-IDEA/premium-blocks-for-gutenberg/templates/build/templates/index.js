(()=>{"use strict";var e={160:(e,t,r)=>{var n=r(609);"function"==typeof Object.is&&Object.is,n.useSyncExternalStore,n.useRef,n.useEffect,n.useMemo,n.useDebugValue},418:(e,t,r)=>{r(160)},609:e=>{e.exports=window.React}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;globalThis.importScripts&&(e=globalThis.location+"");var t=globalThis.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})();const n=window.wp.data,o=window.wp.element;var s=r(609),a=r.n(s);r(418);var i={notify(){},get:()=>[]};var c=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),l=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),u=(()=>c||l?s.useLayoutEffect:s.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var p=Symbol.for("react-redux-context"),d="undefined"!=typeof globalThis?globalThis:{};function f(){if(!s.createContext)return{};const e=d[p]??=new Map;let t=e.get(s.createContext);return t||(t=s.createContext(null),e.set(s.createContext,t)),t}var m=f(),h=function(e){const{children:t,context:r,serverState:n,store:o}=e,a=s.useMemo(()=>{const e=function(e,t){let r,n=i,o=0,s=!1;function a(){u.onStateChange&&u.onStateChange()}function c(){o++,r||(r=t?t.addNestedSub(a):e.subscribe(a),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){n&&null!==e&&(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}function l(){o--,r&&0===o&&(r(),r=void 0,n.clear(),n=i)}const u={addNestedSub:function(e){c();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,c())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>n};return u}(o);return{store:o,subscription:e,getServerState:n?()=>n:void 0}},[o,n]),c=s.useMemo(()=>o.getState(),[o]);u(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,c]);const l=r||m;return s.createElement(l.Provider,{value:a},t)};function g(e=m){return function(){return s.useContext(e)}}var b=g();function y(e=m){const t=e===m?b:g(e),r=()=>{const{store:e}=t();return e};return Object.assign(r,{withTypes:()=>r}),r}var v=y();function w(e=m){const t=e===m?v:y(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var _=w(),S=Symbol.for("immer-nothing"),C=Symbol.for("immer-draftable"),x=Symbol.for("immer-state");function j(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var k=Object,E=k.getPrototypeOf,N="constructor",O="prototype",P="configurable",T="enumerable",M="writable",I="value",R=e=>!!e&&!!e[x];function B(e){return!!e&&(A(e)||W(e)||!!e[C]||!!e[N]?.[C]||Z(e)||X(e))}var D=k[O][N].toString(),F=new WeakMap;function A(e){if(!e||!H(e))return!1;const t=E(e);if(null===t||t===k[O])return!0;const r=k.hasOwnProperty.call(t,N)&&t[N];if(r===Object)return!0;if(!K(r))return!1;let n=F.get(r);return void 0===n&&(n=Function.toString.call(r),F.set(r,n)),n===D}function L(e,t,r=!0){0===z(e)?(r?Reflect.ownKeys(e):k.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function z(e){const t=e[x];return t?t.type_:W(e)?1:Z(e)?2:X(e)?3:0}var q=(e,t,r=z(e))=>2===r?e.has(t):k[O].hasOwnProperty.call(e,t),$=(e,t,r=z(e))=>2===r?e.get(t):e[t],U=(e,t,r,n=z(e))=>{2===n?e.set(t,r):3===n?e.add(r):e[t]=r},W=Array.isArray,Z=e=>e instanceof Map,X=e=>e instanceof Set,H=e=>"object"==typeof e,K=e=>"function"==typeof e,G=e=>"boolean"==typeof e,J=e=>e.copy_||e.base_,V=e=>e.modified_?e.copy_:e.base_;function Q(e,t){if(Z(e))return new Map(e);if(X(e))return new Set(e);if(W(e))return Array[O].slice.call(e);const r=A(e);if(!0===t||"class_only"===t&&!r){const t=k.getOwnPropertyDescriptors(e);delete t[x];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const o=r[n],s=t[o];!1===s[M]&&(s[M]=!0,s[P]=!0),(s.get||s.set)&&(t[o]={[P]:!0,[M]:!0,[T]:s[T],[I]:e[o]})}return k.create(E(e),t)}{const t=E(e);if(null!==t&&r)return{...e};const n=k.create(t);return k.assign(n,e)}}function Y(e,t=!1){return te(e)||R(e)||(z(e)>1&&k.defineProperties(e,{set:ee,add:ee,clear:ee,delete:ee}),k.freeze(e),t&&L(e,(e,t)=>{Y(t,!0)},!1)),e}var ee={[I]:function(){j(2)}};function te(e){return null===e||!H(e)||k.isFrozen(e)}var re,ne="MapSet",oe="Patches",se={};function ae(e){const t=se[e];return t||j(0),t}var ie=()=>re;function ce(e,t){t&&(e.patchPlugin_=ae(oe),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function le(e){ue(e),e.drafts_.forEach(de),e.drafts_=null}function ue(e){e===re&&(re=e.parent_)}var pe=e=>{return re={drafts_:[],parent_:re,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:(t=ne,se[t]?ae(ne):void 0)};var t};function de(e){const t=e[x];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function fe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(void 0!==e&&e!==r){r[x].modified_&&(le(t),j(4)),B(e)&&(e=me(t,e));const{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[x].base_,e,t)}else e=me(t,r);return function(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Y(t,r)}(t,e,!0),le(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==S?e:void 0}function me(e,t){if(te(t))return t;const r=t[x];if(!r)return we(t,e.handledSet_,e);if(!ge(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:t}=r;if(t)for(;t.length>0;)t.pop()(e);ve(r,e)}return r.copy_}function he(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ge=(e,t)=>e.scope_===t,be=[];function ye(e,t,r,n){const o=J(e),s=e.type_;if(void 0!==n&&$(o,n,s)===t)return void U(o,n,r,s);if(!e.draftLocations_){const t=e.draftLocations_=new Map;L(o,(e,r)=>{if(R(r)){const n=t.get(r)||[];n.push(e),t.set(r,n)}})}const a=e.draftLocations_.get(t)??be;for(const e of a)U(o,e,r,s)}function ve(e,t){if(e.modified_&&!e.finalized_&&(3===e.type_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const n=r.getPath(e);n&&r.generatePatches_(e,n,t)}he(e)}}function we(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||R(e)||t.has(e)||!B(e)||te(e)||(t.add(e),L(e,(n,o)=>{if(R(o)){const t=o[x];if(ge(t,r)){const r=V(t);U(e,n,r,e.type_),he(t)}}else B(o)&&we(o,t,r)})),e}var _e={get(e,t){if(t===x)return e;const r=J(e);if(!q(r,t,e.type_))return function(e,t,r){const n=xe(t,r);return n?I in n?n[I]:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];if(e.finalized_||!B(n))return n;if(n===Ce(e.base_,t)){ke(e);const r=1===e.type_?+t:t,o=Ee(e.scope_,n,e,r);return e.copy_[r]=o}return n},has:(e,t)=>t in J(e),ownKeys:e=>Reflect.ownKeys(J(e)),set(e,t,r){const n=xe(J(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Ce(J(e),t),a=n?.[x];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(((o=r)===(s=n)?0!==o||1/o==1/s:o!=o&&s!=s)&&(void 0!==r||q(e.base_,t,e.type_)))return!0;ke(e),je(e)}var o,s;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),function(e,t,r){const{scope_:n}=e;if(R(r)){const o=r[x];ge(o,n)&&o.callbacks_.push(function(){ke(e);const n=V(o);ye(e,r,n,t)})}else B(r)&&e.callbacks_.push(function(){const o=J(e);$(o,t,e.type_)===r&&n.drafts_.length>1&&!0===(e.assigned_.get(t)??!1)&&e.copy_&&we($(e.copy_,t,e.type_),n.handledSet_,n)})}(e,t,r)),!0},deleteProperty:(e,t)=>(ke(e),void 0!==Ce(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),je(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=J(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{[M]:!0,[P]:1!==e.type_||"length"!==t,[T]:n[T],[I]:r[t]}:n},defineProperty(){j(11)},getPrototypeOf:e=>E(e.base_),setPrototypeOf(){j(12)}},Se={};function Ce(e,t){const r=e[x];return(r?J(r):e)[t]}function xe(e,t){if(!(t in e))return;let r=E(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=E(r)}}function je(e){e.modified_||(e.modified_=!0,e.parent_&&je(e.parent_))}function ke(e){e.copy_||(e.assigned_=new Map,e.copy_=Q(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Ee(e,t,r,n){const[o,s]=Z(t)?ae(ne).proxyMap_(t,r):X(t)?ae(ne).proxySet_(t,r):function(e,t){const r=W(e),n={type_:r?1:0,scope_:t?t.scope_:ie(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=n,s=_e;r&&(o=[n],s=Se);const{revoke:a,proxy:i}=Proxy.revocable(o,s);return n.draft_=i,n.revoke_=a,[i,n]}(t,r);return(r?.scope_??ie()).drafts_.push(o),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&void 0!==n?function(e,t,r){e.callbacks_.push(function(n){const o=t;if(!o||!ge(o,n))return;n.mapSetPlugin_?.fixSetContents(o);const s=V(o);ye(e,o.draft_??o,s,r),ve(o,n)})}(r,s,n):s.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:t}=e;s.modified_&&t&&t.generatePatches_(s,[],e)}),o}function Ne(e){if(!B(e)||te(e))return e;const t=e[x];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Q(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Q(e,!0);return L(r,(e,t)=>{U(r,e,Ne(t))},n),t&&(t.finalized_=!1),r}L(_e,(e,t)=>{Se[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),Se.deleteProperty=function(e,t){return Se.set.call(this,e,t,void 0)},Se.set=function(e,t,r){return _e.set.call(this,e[0],t,r,e[0])};var Oe=(new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if(K(e)&&!K(t)){const r=t;t=e;const n=this;return function(e=r,...o){return n.produce(e,e=>t.call(this,e,...o))}}let n;if(K(t)||j(6),void 0===r||K(r)||j(7),B(e)){const o=pe(this),s=Ee(0,e,void 0);let a=!0;try{n=t(s),a=!1}finally{a?le(o):ue(o)}return ce(o,r),fe(n,o)}if(!e||!H(e)){if(n=t(e),void 0===n&&(n=e),n===S&&(n=void 0),this.autoFreeze_&&Y(n,!0),r){const t=[],o=[];ae(oe).generateReplacementPatches_(e,n,{patches_:t,inversePatches_:o}),r(t,o)}return n}j(1)},this.produceWithPatches=(e,t)=>{if(K(e))return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,n;return[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},G(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),G(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),G(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){var t;B(e)||j(8),R(e)&&(R(t=e)||j(10),e=Ne(t));const r=pe(this),n=Ee(0,e,void 0);return n[x].isManual_=!0,ue(r),n}finishDraft(e,t){const r=e&&e[x];r&&r.isManual_||j(9);const{scope_:n}=r;return ce(n,t),fe(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=ae(oe).applyPatches_;return R(e)?n(e,t):this.produce(e,e=>n(e,t))}}).produce;function Pe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Te=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Me=()=>Math.random().toString(36).substring(7).split("").join("."),Ie={INIT:`@@redux/INIT${Me()}`,REPLACE:`@@redux/REPLACE${Me()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Me()}`};function Re(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Be(e,t,r){if("function"!=typeof e)throw new Error(Pe(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(Pe(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(Pe(1));return r(Be)(e,t)}let n=e,o=t,s=new Map,a=s,i=0,c=!1;function l(){a===s&&(a=new Map,s.forEach((e,t)=>{a.set(t,e)}))}function u(){if(c)throw new Error(Pe(3));return o}function p(e){if("function"!=typeof e)throw new Error(Pe(4));if(c)throw new Error(Pe(5));let t=!0;l();const r=i++;return a.set(r,e),function(){if(t){if(c)throw new Error(Pe(6));t=!1,l(),a.delete(r),s=null}}}function d(e){if(!Re(e))throw new Error(Pe(7));if(void 0===e.type)throw new Error(Pe(8));if("string"!=typeof e.type)throw new Error(Pe(17));if(c)throw new Error(Pe(9));try{c=!0,o=n(o,e)}finally{c=!1}return(s=a).forEach(e=>{e()}),e}return d({type:Ie.INIT}),{dispatch:d,subscribe:p,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Pe(10));n=e,d({type:Ie.REPLACE})},[Te]:function(){const e=p;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Pe(11));function r(){const e=t;e.next&&e.next(u())}return r(),{unsubscribe:e(r)}},[Te](){return this}}}}}function De(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function Fe(e){return({dispatch:t,getState:r})=>n=>o=>"function"==typeof o?o(t,r,e):n(o)}var Ae=Fe(),Le=Fe,ze="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?De:De.apply(null,arguments)};function qe(e,t){function r(...r){if(t){let n=t(...r);if(!n)throw new Error(et(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:r[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>function(e){return Re(e)&&"type"in e&&"string"==typeof e.type}(t)&&t.type===e,r}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var $e=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Ue(e){return B(e)?Oe(e,()=>{}):e}function We(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var Ze=e=>t=>{setTimeout(t,e)};function Xe(e){const t={},r=[];let n;const o={addCase(e,r){const n="string"==typeof e?e:e.type;if(!n)throw new Error(et(28));if(n in t)throw new Error(et(29));return t[n]=r,o},addAsyncThunk:(e,n)=>(n.pending&&(t[e.pending.type]=n.pending),n.rejected&&(t[e.rejected.type]=n.rejected),n.fulfilled&&(t[e.fulfilled.type]=n.fulfilled),n.settled&&r.push({matcher:e.settled,reducer:n.settled}),o),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),o),addDefaultCase:e=>(n=e,o)};return e(o),[t,r,n]}var He=Symbol.for("rtk-slice-createasyncthunk");function Ke(e,t){return`${e}/${t}`}function Ge({creators:e}={}){const t=e?.asyncThunk?.[He];return function(e){const{name:r,reducerPath:n=r}=e;if(!r)throw new Error(et(11));const o=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(o),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},i={addCase(e,t){const r="string"==typeof e?e:e.type;if(!r)throw new Error(et(12));if(r in a.sliceCaseReducersByType)throw new Error(et(13));return a.sliceCaseReducersByType[r]=t,i},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),i),exposeAction:(e,t)=>(a.actionCreators[e]=t,i),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,i)};function c(){const[t={},r=[],n]="function"==typeof e.extraReducers?Xe(e.extraReducers):[e.extraReducers],o={...t,...a.sliceCaseReducersByType};return function(e){let t,[s,i,c]=Xe(e=>{for(let t in o)e.addCase(t,o[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)});if("function"==typeof e)t=()=>Ue(e());else{const r=Ue(e);t=()=>r}function l(e=t(),r){let n=[s[r.type],...i.filter(({matcher:e})=>e(r)).map(({reducer:e})=>e)];return 0===n.filter(e=>!!e).length&&(n=[c]),n.reduce((e,t)=>{if(t){if(R(e)){const n=t(e,r);return void 0===n?e:n}if(B(e))return Oe(e,e=>t(e,r));{const n=t(e,r);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return l.getInitialState=t,l}(e.initialState)}s.forEach(n=>{const s=o[n],a={reducerName:n,type:Ke(r,n),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function({type:e,reducerName:t,createNotation:r},n,o){let s,a;if("reducer"in n){if(r&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(n))throw new Error(et(17));s=n.reducer,a=n.prepare}else s=n;o.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?qe(e,a):qe(e))}(a,s,i):function({type:e,reducerName:t},r,n,o){if(!o)throw new Error(et(18));const{payloadCreator:s,fulfilled:a,pending:i,rejected:c,settled:l,options:u}=r,p=o(e,s,u);n.exposeAction(t,p),a&&n.addCase(p.fulfilled,a),i&&n.addCase(p.pending,i),c&&n.addCase(p.rejected,c),l&&n.addMatcher(p.settled,l),n.exposeCaseReducer(t,{fulfilled:a||Qe,pending:i||Qe,rejected:c||Qe,settled:l||Qe})}(a,s,i,t)});const l=e=>e,u=new Map,p=new WeakMap;let d;function f(e,t){return d||(d=c()),d(e,t)}function m(){return d||(d=c()),d.getInitialState()}function h(t,r=!1){function n(e){let o=e[t];return void 0===o&&r&&(o=We(p,n,m)),o}function o(t=l){const n=We(u,r,()=>new WeakMap);return We(n,t,()=>{const n={};for(const[o,s]of Object.entries(e.selectors??{}))n[o]=Je(s,t,()=>We(p,t,m),r);return n})}return{reducerPath:t,getSelectors:o,get selectors(){return o(n)},selectSlice:n}}const g={name:r,reducer:f,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:m,...h(n),injectInto(e,{reducerPath:t,...r}={}){const o=t??n;return e.inject({reducerPath:o,reducer:f},r),{...g,...h(o,!0)}}};return g}}function Je(e,t,r,n){function o(o,...s){let a=t(o);return void 0===a&&n&&(a=r()),e(a,...s)}return o.unwrapped=e,o}var Ve=Ge();function Qe(){}var{assign:Ye}=Object;function et(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");const tt=Ve({name:"favoriteStatues",initialState:{favoriteFlag:!1,favoriteTemplates:[]},reducers:{addFavoriteTemplates:(e,t)=>{e.favoriteFlag=!0,e.favoriteTemplates=t.payload}}}),{addFavoriteTemplates:rt}=tt.actions,nt=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:o=!0}=e??{};let s=new $e;return t&&("boolean"==typeof t?s.push(Ae):s.push(Le(t.extraArgument))),s},{reducer:r,middleware:n,devTools:o=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a,enhancers:i}=e||{};let c,l;if("function"==typeof r)c=r;else{if(!Re(r))throw new Error(et(1));c=function(e){const t=Object.keys(e),r={};for(let n=0;n<t.length;n++){const o=t[n];"function"==typeof e[o]&&(r[o]=e[o])}const n=Object.keys(r);let o;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if(void 0===r(void 0,{type:Ie.INIT}))throw new Error(Pe(12));if(void 0===r(void 0,{type:Ie.PROBE_UNKNOWN_ACTION()}))throw new Error(Pe(13))})}(r)}catch(e){o=e}return function(e={},t){if(o)throw o;let s=!1;const a={};for(let o=0;o<n.length;o++){const i=n[o],c=r[i],l=e[i],u=c(l,t);if(void 0===u)throw t&&t.type,new Error(Pe(14));a[i]=u,s=s||u!==l}return s=s||n.length!==Object.keys(e).length,s?a:e}}(r)}l="function"==typeof n?n(t):t();let u=De;o&&(u=ze({trace:!1,..."object"==typeof o&&o}));const p=function(...e){return t=>(r,n)=>{const o=t(r,n);let s=()=>{throw new Error(Pe(15))};const a={getState:o.getState,dispatch:(e,...t)=>s(e,...t)},i=e.map(e=>e(a));return s=De(...i)(o.dispatch),{...o,dispatch:s}}}(...l),d=(e=>function(t){const{autoBatch:r=!0}=t??{};let n=new $e(e);return r&&n.push(((e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,s=!1,a=!1;const i=new Set,c="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ze(10):"callback"===e.type?e.queueNotification:Ze(e.timeout),l=()=>{a=!1,s&&(s=!1,i.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>o&&e());return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{return o=!e?.meta?.RTK_autoBatch,s=!o,s&&(a||(a=!0,c(l))),n.dispatch(e)}finally{o=!0}}})})("object"==typeof r?r:void 0)),n})(p);return Be(c,a,u(..."function"==typeof i?i(d):d()))}({reducer:{favoriteStates:tt.reducer}}),ot=window.wp.i18n,st=window.wp.components,at=window.wp.blocks,it=window.wp.apiFetch;var ct=r.n(it);const lt=window.wp.url;function ut(){return{processPattern:async function(e,t="",r=""){try{return await ct()({path:"/pbg-templates/v2/process_pattern",method:"POST",data:{content:e,image_library:t,forms:r}})}catch(e){const t=e?.message?e.message:e;return console.log(`ERROR: ${t}`),"failed"}},getPatterns:async function(e,t,r=null,n=null){try{return await ct()({path:(0,lt.addQueryArgs)("/pbg-templates/v2/get_pattern",{library_url:r||"",key:n||e})})}catch(e){const t=e?.message?e.message:e;return console.log(`ERROR: ${t}`),"failed"}},getFavorites:async function(e,t,r){try{return await ct()({path:"/pbg-templates/v2/favorite",method:"POST",data:{block_id:e,status:t,type:r}})}catch(e){const t=e?.message?e.message:e;return console.log(`ERROR: ${t}`),"failed"}},getPatternContent:async function(e){try{return await ct()({path:(0,lt.addQueryArgs)(`/pbg-templates/v2/get_pattern_content/${e}`)})}catch(e){const t=e?.message?e.message:e;return console.log(`ERROR: ${t}`),"failed"}},getSavedFavorites:async function(){try{return await ct()({path:"/pbg-templates/v2/get_save_favorite"})}catch(e){const t=e?.message?e.message:e;return console.log(`ERROR: ${t}`),"failed"}}}}function pt(){return pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pt.apply(this,arguments)}function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach(function(t){mt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ht extends a().Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})):this.reCalculateColumnCount()}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});let r=1/0,n=t.default||2;for(let o in t){const s=parseInt(o);s>0&&e<=s&&s<r&&(r=s,n=t[o])}n=Math.max(1,parseInt(n)||1),this.state.columnCount!==n&&this.setState({columnCount:n})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),r=a().Children.toArray(this.props.children);for(let n=0;n<r.length;n++){const o=n%e;t[o]||(t[o]=[]),t[o].push(r[n])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:r}=this.props,n=this.itemsInColumns(),o=100/n.length+"%";let s=r;s&&"string"!=typeof s&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===s&&(s="my-masonry-grid_column"));const i=ft(ft(ft({},e),t),{},{style:ft(ft({},t.style),{},{width:o}),className:s});return n.map((e,t)=>a().createElement("div",pt({},i,{key:t}),e))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:r,columnClassName:n,columnAttrs:o,column:s,className:i}=e,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let l=i;return"string"!=typeof i&&(this.logDeprecated('The property "className" requires a string'),void 0===i&&(l="my-masonry-grid")),a().createElement("div",pt({},c,{className:l}),this.renderColumns())}}ht.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0};const gt=ht,bt=window.wp.compose,yt=window.ReactJSXRuntime,vt=(0,o.memo)(e=>{const{page:t,onClickPattern:r,onClickPreview:n,getFavorite:s,favoriteTemplates:a}=e,{content:i,viewportWidth:c=1200,template_id:l}=t,[{width:u}]=(0,bt.useResizeObserver)();c||(c=u);const p=(0,o.useMemo)(()=>u/c,[u,c]),d=(a||[]).filter(e=>e==l);return(0,yt.jsx)("div",{className:"pbg-template-block-patterns-list__list-item",children:(0,yt.jsxs)("div",{role:"option",className:"pbg-template-block-patterns-list__item ",onClick:e=>{e.preventDefault(),e.stopPropagation(),n(t,i)},children:[(0,yt.jsx)("img",{src:t.thumbnail?t.thumbnail:PremiumBlocksSettings.defaultAuthImg,alt:t.template_id,loading:"lazy",style:{width:"100%",height:"100%",pointerEvents:"none",maxHeight:1600,minHeight:0!==p&&p<1?50/p:50}}),(0,yt.jsxs)("div",{className:"pbg-template-block-patterns-list__item-title",children:[(0,yt.jsx)("button",{className:`pbg-btn-favorite ${0!=d.length&&"pbg-page-favorite__wrap"}`,onClick:e=>{e.preventDefault(),e.stopPropagation(),s(l)},children:(0,yt.jsxs)("svg",{id:"_x3C_Group_x3E_",xmlns:"http://www.w3.org/2000/svg",width:"21.5",height:"21.5",viewBox:"0 0 21.5 21.5",children:[(0,yt.jsx)("defs",{children:(0,yt.jsx)("style",{children:".cls-1{fill:none;stroke:#292d32;strokeLinecap:round;strokeLinejoin:round;strokeWidth:1.5px;}"})}),(0,yt.jsx)("g",{id:"Heart",children:(0,yt.jsx)("path",{className:"cls-1",d:"M11.37,19.56c-.34.12-.9.12-1.24,0C7.23,18.57.75,14.44.75,7.44.75,4.35,3.24,1.85,6.31,1.85c1.82,0,3.43.88,4.44,2.24,1.01-1.36,2.63-2.24,4.44-2.24,3.07,0,5.56,2.5,5.56,5.59,0,7-6.48,11.13-9.38,12.12Z"})})]})}),(0,yt.jsxs)("div",{className:"pbg-action-buttons-wrap",children:[(0,yt.jsx)("button",{className:"pbg-preview-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),n(t,i)},children:(0,ot.__)("Preview","premium-blocks-for-gutenberg")}),(0,yt.jsx)("button",{className:"pbg-insert-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),r(t)},children:(0,ot.__)("Insert","premium-blocks-for-gutenberg")})]})]})]})})}),wt=window.wp.blockEditor,_t=(0,o.memo)(e=>{const{page:t,onBack:r,onClickPattern:s}=e,{styles:a}=(0,n.useSelect)(e=>({styles:e(wt.store).getSettings().styles}),[]),i=(0,o.useMemo)(()=>a?[...a]:a,[a]),c=(0,o.useMemo)(()=>(0,yt.jsx)(yt.Fragment,{children:i.map((e,t)=>{if(e?.css){let r=e.css.replace(/body/g,".block-editor-block-list__layout");return r=r.replace(/:root/g,".pattern-shadow-wrap"),(0,yt.jsx)("style",{children:r},t)}})}),[i]);return(0,o.useEffect)(()=>{const e=document.getElementById("wpadminbar");e&&(e.style.display="none")},[]),(0,o.useEffect)(()=>{const e=()=>{const e=document.getElementById("pbg-template-myIframe");e?.contentWindow?.scrollTo(window.scrollX,window.scrollY)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsxs)("div",{className:"pbg-page-modal-header",children:[(0,yt.jsx)("div",{className:"pbg-page-modal-header-back",children:(0,yt.jsxs)("button",{type:"button",className:"pbg-page-modal-back",onClick:r,children:[(0,yt.jsx)("svg",{id:"Premium_Blocks",xmlns:"http://www.w3.org/2000/svg",width:"24.5",height:"24",viewBox:"0 0 24.5 24",children:(0,yt.jsxs)("g",{id:"Back",children:[(0,yt.jsx)("path",{className:"cls-1",d:"M15.74,22.27h-.13c-4.44,0-6.58-1.75-6.95-5.67-.04-.41.26-.78.68-.82.42-.04.78.27.82.68.29,3.14,1.77,4.31,5.45,4.31h.13c4.07,0,5.51-1.44,5.51-5.51v-6.52c0-4.07-1.44-5.51-5.51-5.51h-.13c-3.71,0-5.19,1.19-5.46,4.38-.04.41-.39.73-.81.68-.41-.04-.72-.4-.68-.81.34-3.98,2.49-5.76,6.96-5.76h.13c4.91,0,7.01,2.1,7.01,7.01v6.52c0,4.91-2.1,7.01-7.01,7.01Z"}),(0,yt.jsx)("path",{className:"cls-1",d:"M16.25,11.99c0,.41-.34.75-.75.75H4.81l2.07,2.07c.29.29.29.77,0,1.06-.15.15-.34.22-.53.22s-.38-.07-.53-.22l-3.35-3.35c-.14-.14-.22-.33-.22-.53s.08-.39.22-.53l3.35-3.35c.29-.29.77-.29,1.06,0s.29.77,0,1.06l-2.07,2.07h10.69c.41,0,.75.34.75.75Z"})]})}),(0,yt.jsx)("span",{children:(0,ot.__)("Back","premium-blocks-for-gutenberg")})]})}),(0,yt.jsx)("div",{className:"pbg-page-modal-insert-button-wrap",children:(0,yt.jsxs)("button",{type:"button",className:"pbg-page-modal-insert-button",onClick:()=>s(t),children:[(0,yt.jsx)("svg",{id:"Premium_Blocks",xmlns:"http://www.w3.org/2000/svg",width:"24.5",height:"24",viewBox:"0 0 24.5 24",children:(0,yt.jsxs)("g",{id:"Insert",children:[(0,yt.jsx)("path",{className:"cls-1",d:"M15.75,22.5h-6.51c-4.91,0-7.01-2.1-7.01-7.01v-.13c0-4.44,1.75-6.58,5.67-6.95.4-.05.78.26.82.68.04.41-.26.78-.68.82-3.14.29-4.31,1.77-4.31,5.45v.13c0,4.07,1.44,5.51,5.51,5.51h6.51c4.07,0,5.51-1.44,5.51-5.51v-.13c0-3.71-1.19-5.19-4.38-5.46-.41-.04-.72-.4-.68-.81.04-.41.39-.72.81-.68,3.98.34,5.75,2.49,5.75,6.96v.13c0,4.91-2.1,7.01-7.01,7.01Z"}),(0,yt.jsx)("path",{className:"cls-1",d:"M16.39,13.43l-3.35,3.35c-.15.15-.34.22-.54.22s-.38-.07-.53-.22l-3.35-3.35c-.29-.29-.29-.77,0-1.06.3-.29.77-.29,1.07,0l2.06,2.07V2.25c0-.41.34-.75.75-.75s.75.34.75.75v12.19l2.08-2.07c.29-.29.76-.29,1.06,0,.29.29.29.77,0,1.06Z"})]})}),(0,yt.jsx)("span",{children:(0,ot.__)("Insert","premium-blocks-for-gutenberg")})]})})]}),(0,yt.jsx)("div",{className:"pbg-page-content-preview",children:(0,yt.jsx)("iframe",{id:"pbg-template-myIframe",className:"pbg-template-editor-styles-wrapper pattern-shadow-wrap",src:t.preview_url,children:c})})]})}),St=r.p+"images/empty-favorites-image.9242e7ac.png",Ct=(0,o.memo)(e=>{const{selectedSubTab:t,templates:r,favoriteTemplates:n,rootScroll:s,onSelectBlockPattern:a,onSelectPage:i,getFavorite:c,onBack:l}=e,u=(0,o.useMemo)(()=>(r||[]).filter(e=>n.includes(e.template_id)),[r,n]),p=(0,o.useMemo)(()=>e=>{const r=[];return(e||[]).map(e=>r.push((0,yt.jsx)(vt,{page:e,rootScroll:s,onClickPattern:a,selectedSubTab:t,onClickPreview:i,getFavorite:c,favoriteTemplates:n},e.template_id))),r},[s,a,t,i,c,n]);return(0,yt.jsx)(yt.Fragment,{children:0==n.length?(0,yt.jsxs)("div",{className:"pbg-template-no-favorite-wrap",children:[(0,yt.jsx)("button",{className:"pbg-btn-favorite-wrap",children:(0,yt.jsx)("img",{src:St})}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{className:"pbg-template-no-favorite",children:(0,ot.__)("No Favorites Found","premium-blocks-for-gutenberg")}),(0,yt.jsxs)("button",{type:"button",className:"pbg-page-modal-back",onClick:l,children:[(0,yt.jsx)("svg",{id:"Premium_Blocks",xmlns:"http://www.w3.org/2000/svg",width:"24.5",height:"24",viewBox:"0 0 24.5 24",children:(0,yt.jsxs)("g",{id:"Back",children:[(0,yt.jsx)("path",{className:"cls-1",d:"M15.74,22.27h-.13c-4.44,0-6.58-1.75-6.95-5.67-.04-.41.26-.78.68-.82.42-.04.78.27.82.68.29,3.14,1.77,4.31,5.45,4.31h.13c4.07,0,5.51-1.44,5.51-5.51v-6.52c0-4.07-1.44-5.51-5.51-5.51h-.13c-3.71,0-5.19,1.19-5.46,4.38-.04.41-.39.73-.81.68-.41-.04-.72-.4-.68-.81.34-3.98,2.49-5.76,6.96-5.76h.13c4.91,0,7.01,2.1,7.01,7.01v6.52c0,4.91-2.1,7.01-7.01,7.01Z"}),(0,yt.jsx)("path",{className:"cls-1",d:"M16.25,11.99c0,.41-.34.75-.75.75H4.81l2.07,2.07c.29.29.29.77,0,1.06-.15.15-.34.22-.53.22s-.38-.07-.53-.22l-3.35-3.35c-.14-.14-.22-.33-.22-.53s.08-.39.22-.53l3.35-3.35c.29-.29.77-.29,1.06,0s.29.77,0,1.06l-2.07,2.07h10.69c.41,0,.75.34.75.75Z"})]})}),(0,yt.jsx)("span",{children:(0,ot.__)("Go Back","premium-blocks-for-gutenberg")})]})]})]}):(0,yt.jsx)(gt,{breakpointCols:{default:3,1900:3,1600:3,1200:2,500:1},className:"pbg-template-css-masonry pbg-template-core-section-library",columnClassName:"pbg-css-masonry_column",children:p(u)})})}),xt={default:4,1900:4,1600:4,1200:3,500:2},jt=(0,o.memo)(e=>{const{selectedSubTab:t,favorite:r,templates:n,templateSearch:s,isLoading:a,favoriteTemplates:i,errorMessage:c,onBack:l,setSavedFavorite:u,insertBlocks:p,replaceBlock:d,onClose:f,templateClientId:m}=e,[h,g]=(0,o.useState)([]),[b,y]=(0,o.useState)(),[v,w]=(0,o.useState)(!1),[S,C]=(0,o.useState)("All"),[x,j]=(0,o.useState)([]),[k,E]=(0,o.useState)(!1),[N,O]=(0,o.useState)([]);(0,o.useEffect)(()=>{const e=localStorage.getItem("pbg_favorite_templates");e&&O(JSON.parse(e))},[]),(0,o.useEffect)(()=>{i&&i.length>0&&(O(i),localStorage.setItem("pbg_favorite_templates",JSON.stringify(i)))},[i]);const P=_(),T=(0,o.useMemo)(()=>S||(0,ot.__)("All","premium-blocks-for-gutenberg"),[S]),{processPattern:M,getFavorites:I,getPatternContent:R}=ut();async function B(e){const t={id:e.template_id,slug:e.title,type:"pattern"};let r="";r=e.content,t.content=r,E(!0);try{const t=await R(e.template_id);t&&t[0]&&t[0].content?await async function(e,t){try{const r=await M(e);if("failed"===r)console.log("Import Process Failed when processing data through rest api... Trying ajax.");else{const e=(0,at.parse)(r);t?d(t,e):p(e),w(!1),f()}return r}catch(e){return console.error("Error in processImportContent:",e),w(!1),"failed"}}(t[0].content,m):(console.error("Invalid content received from getPatternContent"),w(!1),E(!1))}catch(e){console.error("Error in onSelectBlockPattern:",e),w(!1),E(!1)}}async function D(e){let r=!1;0==i.filter(t=>t==e).length&&(r=!0);const n=await I(e,r,t);"failed"===n?console.log("Import Process Failed when processing data through rest api... Trying ajax."):(P(rt(n)),u(n))}(0,o.useEffect)(()=>{w(!1),C("All")},[t]),(0,o.useEffect)(()=>{w(!1)},[]),(0,o.useEffect)(()=>{"All"===T&&j(n)},[n,t]),(0,o.useEffect)(()=>{S&&"All"!==S&&C("All")},[s]);const F=e=>{w(!0),g(e)},A=(0,o.useCallback)(e=>(e||[]).map(e=>(0,yt.jsx)(vt,{page:e,rootScroll:b,onClickPattern:B,selectedSubTab:t,onClickPreview:F,getFavorite:D,favoriteTemplates:i},e.template_id)),[b,B,t,F,D,i]);return(0,yt.jsx)("div",{className:"pbg-template-content",style:{height:`calc(100vh - ${1.5*document.querySelector(".pbg-template-header")?.offsetHeight}px)`},children:(0,yt.jsx)("div",{className:"pbg-template-content-wrap",children:(0,yt.jsx)("div",{ref:y,className:`pbg-template-content-templates pbg-page-content ${v&&"pbg-page-content-preview-no-scroll"}`,children:(0,yt.jsx)("div",{className:"pbg-template-content-templates-wrap",children:!a||k?(0,yt.jsx)("div",{className:"pbg-template-content-templates-wrap-spinner",children:(0,yt.jsx)(st.Spinner,{})}):v?(0,yt.jsx)(_t,{page:h,onClickPattern:B,onBack:()=>{w(!1)}}):r?(0,yt.jsx)(Ct,{selectedSubTab:t,templates:n,favoriteTemplates:i,rootScroll:b,onSelectBlockPattern:B,onSelectPage:F,getFavorite:D,onBack:()=>{w(!1),l()}}):(0,yt.jsx)(yt.Fragment,{children:c?(0,yt.jsx)("div",{className:"pbg-templates-error-message",children:(0,yt.jsx)("h2",{children:c})}):(0,yt.jsx)(gt,{breakpointCols:xt,className:"pbg-template-css-masonry pbg-template-core-section-library",columnClassName:"pbg-css-masonry_column",children:A(""!=T?x:n)})})})})})})});function kt(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=kt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const Et=r.p+"images/pb-logo-icon.54c50886.png",Nt=e=>{const{className:t,onClose:r,templateClientId:s}=e,a=(0,o.useRef)(null),[i,c]=(0,o.useState)(""),[l,u]=(0,o.useState)(!1),[p,d]=(0,o.useState)(!1),[f,m]=(0,o.useState)([]),[h,g]=(0,o.useState)(!1),[b,y]=(0,o.useState)([]),[v,w]=(0,o.useState)(""),[_,S]=(0,o.useState)(navigator.onLine),[C,x]=(0,o.useState)("");(0,o.useEffect)(()=>{const e=localStorage.getItem("pbg_favorite_templates");e&&y(JSON.parse(e))},[]),(0,o.useEffect)(()=>{navigator.onLine||x((0,ot.__)("Error, Unable to access patterns, please reload this page in your browser.","premium-blocks-for-gutenberg"))},[]),(0,o.useEffect)(()=>{const e=()=>{S(!0),x(""),["pbg_patterns"].forEach(e=>localStorage.removeItem(e)),(async()=>{try{await Promise.all([R(),I()])}catch(e){console.error("Failed to fetch data:",e)}})()},t=()=>{S(!1),x((0,ot.__)("Error, Unable to access patterns, please reload this page in your browser.","premium-blocks-for-gutenberg"))};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]);const j=i||"patterns",{insertBlocks:k,replaceBlock:E}=(0,n.useDispatch)(wt.store),N=function(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=kt(e))&&(n&&(n+=" "),n+=t);return n}("pbg-block-templates-lightbox bg-border-secondary open",t),O=36e5;function P(e){const t=localStorage.getItem(e);if(!t)return!1;try{const{timestamp:e}=JSON.parse(t);return Date.now()-e<O}catch{return!1}}const{getPatterns:T,getSavedFavorites:M}=ut();async function I(){const e=await M();if("failed"===e)console.log("Permissions Error getting library Content");else{if("error"!==e)return y(e),localStorage.setItem("pbg_favorite_templates",JSON.stringify(e)),Promise.resolve();console.log("Error getting library Content.")}}async function R(){if(P("pbg_patterns")){const{data:e}=JSON.parse(localStorage.getItem("pbg_patterns"));return m(e),g(!0),Promise.resolve()}{const e=await T();if("failed"===e)console.log("Permissions Error getting library Content");else{if("error"!==e)return m(e),g(!0),localStorage.setItem("pbg_patterns",JSON.stringify({data:e,timestamp:Date.now()})),Promise.resolve();console.log("Error getting library Content.")}}}const B=(0,o.useMemo)(()=>v&&"patterns"===j?f.filter(e=>e.categories.some(e=>e.replace(/\s+/g,"-").includes(v.toLowerCase().replace(/\s+/g,"-")))||e.keywords.some(e=>e.replace(/\s+/g,"-").includes(v.toLowerCase().replace(/\s+/g,"-")))||e.template_id==v):f,[f,v,j]),D=(0,o.useCallback)(()=>{u(!l),g(!1),["pbg_patterns"].forEach(e=>localStorage.removeItem(e)),"patterns"==j&&R()},[j,l]);return(0,o.useEffect)(()=>{w("")},[j]),(0,o.useEffect)(()=>{(async()=>{try{if(!_&&(x((0,ot.__)("Error, Unable to access patterns, please reload this page in your browser.","premium-blocks-for-gutenberg")),!P("pbg_patterns")))return;await Promise.all([R(),I()])}catch(e){console.error("Failed to fetch data:",e),_||x((0,ot.__)("Failed to load data. Please check your internet connection.","premium-blocks-for-gutenberg"))}})()},[_]),(0,yt.jsxs)("div",{className:N,ref:a,id:"pbg-block-templates-modal-wrap",children:[(0,yt.jsxs)("div",{className:"pbg-template-header",children:[(0,yt.jsxs)("div",{className:"pbg-template-header-title",children:[(0,yt.jsx)("div",{className:"pbg-logo",children:(0,yt.jsx)("img",{src:Et})}),(0,yt.jsx)("div",{className:"pbg-template-header-type",children:(0,yt.jsx)("div",{className:"pbg-template-header-type-pattern "+("patterns"==j?"active":"pbg-template-header-type-pattern-inactive"),onClick:()=>{c("patterns"),d(!1)},children:(0,yt.jsx)("span",{children:(0,ot.__)("Patterns","premium-blocks-for-gutenberg")})})})]}),(0,yt.jsx)("div",{className:"pbg-template-header-search",children:(0,yt.jsx)(st.SearchControl,{__nextHasNoMarginBottom:!0,className:"pbg-template-search",value:v,placeholder:(0,ot.__)("Search By Block Name...","premium-blocks-for-gutenberg"),onChange:e=>{w(e)}})}),(0,yt.jsxs)("div",{className:"pbg-template-header-right-side",children:[(0,yt.jsx)("button",{className:`pbg-btn-reload ${"favorite"==j&&"pbg-btn-reload-dimmed"}`,"aria-label":"Sync with Cloud",onClick:()=>{D()},children:(0,yt.jsx)("svg",{id:"_x3C_Group_x3E_",xmlns:"http://www.w3.org/2000/svg",width:"21.5",height:"21.5",viewBox:"0 0 21.5 21.5",children:(0,yt.jsx)("g",{id:"Refresh",children:(0,yt.jsx)("path",{className:"cls-1",d:"M20.75,10.75c0,5.52-4.48,10-10,10S1.86,15.19,1.86,15.19M1.86,15.19h4.52M1.86,15.19v5M.75,10.75C.75,5.23,5.19.75,10.75.75c6.67,0,10,5.56,10,5.56M20.75,6.31V1.31M20.75,6.31h-4.44"})})})}),(0,yt.jsx)("div",{className:"pbg-template-header-right-side-favorite "+("favorite"==j?"pbg-btn-favorite-active":""),children:(0,yt.jsx)("button",{className:`pbg-btn-favorite ${("favorite"==j||0!=b.length)&&"pbg-btn-favorite-filled"}`,onClick:()=>{d(!0),c("favorite")},children:(0,yt.jsx)("svg",{id:"_x3C_Group_x3E_",xmlns:"http://www.w3.org/2000/svg",width:"21.5",height:"21.5",viewBox:"0 0 21.5 21.5",children:(0,yt.jsx)("g",{id:"Heart",children:(0,yt.jsx)("path",{className:"cls-1",d:"M11.37,19.56c-.34.12-.9.12-1.24,0C7.23,18.57.75,14.44.75,7.44.75,4.35,3.24,1.85,6.31,1.85c1.82,0,3.43.88,4.44,2.24,1.01-1.36,2.63-2.24,4.44-2.24,3.07,0,5.56,2.5,5.56,5.59,0,7-6.48,11.13-9.38,12.12Z"})})})})}),(0,yt.jsx)("button",{className:"pbg-btn-close",onClick:()=>{r()},children:(0,yt.jsx)("svg",{id:"_x3C_Group_x3E_",xmlns:"http://www.w3.org/2000/svg",width:"21.5",height:"21.5",viewBox:"0 0 21.5 21.5",children:(0,yt.jsxs)("g",{id:"Close",children:[(0,yt.jsx)("path",{className:"cls-1",d:"M16.7,4.8l-11.9,11.9"}),(0,yt.jsx)("path",{className:"cls-1",d:"M16.7,16.7L4.8,4.8"})]})})})]})]}),(0,yt.jsx)(jt,{reload:l,selectedSubTab:j,favorite:p,templates:v&&"patterns"===j?B:f,templateSearch:v,isLoading:h,favoriteTemplates:b,setSavedFavorite:y,errorMessage:C,onBack:()=>{c("patterns"),d(!1)},insertBlocks:k,replaceBlock:E,onClose:r,templateClientId:s})]})},Ot=()=>{(0,o.useEffect)(()=>{nt.getState().favoriteStates.blocksFlag||(e=>{const t={favoriteFlag:!0,favoriteTemplates:PremiumBlocksTemplates.favorites};e.dispatch({type:"favoriteStatues/addFavoriteTemplates",payload:t.favoriteTemplates})})(nt)},[]);const e=(0,o.useRef)(null),[t,r]=(0,o.useState)(!1),[n,s]=(0,o.useState)(null);return(0,o.useEffect)(()=>{const e=e=>{r(!0),s(e.detail?.clientId||null)};return window.addEventListener("pbgOpenTemplateModal",e),()=>window.removeEventListener("pbgOpenTemplateModal",e)},[]),(0,yt.jsxs)(h,{store:nt,children:[(0,yt.jsx)("div",{className:"pbg-toolbar-layout",children:(0,yt.jsxs)("button",{className:"pbg-toolbar-layout__button","aria-pressed":t,ref:e,onClick:()=>{r(!0)},children:[(0,yt.jsx)("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 19.71 19.12",children:(0,yt.jsx)("g",{id:"Global_Settings",children:(0,yt.jsx)("path",{d:"M19.34,6.4c-.57-1.68-1.92-3.12-3.42-4.12C13.72.75,11.13.09,8.7,0c-1.04-.05-2.04.11-3,.35C2.07,1.4-.32,5,.12,9.03c.19,1.89.89,3.8,1.94,5.53,1,1.52,2.34,2.93,3.99,3.7,1.8.88,3.8,1.09,5.51.61,2.16-.55,3.8-2.04,5.11-3.69.66-.78,1.21-1.65,1.69-2.56.39-.76.78-1.52.99-2.38.34-1.18.46-2.52-.01-3.84ZM13.86,12.13c-.78.23-1.65.15-2.39-.33-.13-.09-.58-.51-.93-.88l-.18-.19-.4-.43-.37-.4h-.02s-1.71-1.91-1.71-1.91c-.5-.34-1.07-.37-1.54-.19-.79.29-1.35,1.16-1.07,2.12.17.58.59.95,1.07,1.12.92.32,2.11-.1,2.39-1.2.08.04.78.86.81.95.07.2-.5.78-.68.93-.71.6-1.62.8-2.52.61-.07,0-.13-.03-.2-.04-.31-.09-.62-.33-.95-.36v2.22h-1.22v-5.22c0-.06.12-.43.16-.52.32-.97,1.21-1.7,2.21-1.93.72-.17,1.49-.07,2.13.38.15.1.72.69,1.12,1.14l.08.1.73.82.16.17c.63.72,1.3,1.64,2.22,1.75.42.05.79,0,1.1-.14,1.15-.48,1.52-1.95.27-2.84-.09-.06-.17-.12-.27-.16-1.13-.56-2.43.24-2.56,1.53l-1.21-1.44v-3.27h1.21v2.29c.36-.07.66-.35,1-.46.54-.15,1.07-.13,1.56.01,1.31.38,2.32,1.67,2.23,3.11-.07,1.33-1.05,2.33-2.23,2.66Z"})})}),(0,ot.__)("Templates","premium-blocks-for-gutenberg")]})}),t&&(0,yt.jsx)(st.Modal,{className:"pbg-prebuilt-modal pbg-prebuilt-library-modal",title:"templates",onRequestClose:e=>{e?.type&&"blur"===e.type||r(!1)},children:(0,yt.jsx)(Nt,{isOpen:t,onClose:()=>{r(!1)},templateClientId:n})})]})};let Pt=!1,Tt=null;const Mt=()=>{if(Pt)return;const e=document.querySelector(".editor-header__toolbar"),t=document.querySelector(".edit-post-header-toolbar");if(e){if(document.querySelector("#pbg-blocks__toolbar-buttons"))return;const r=document.createElement("div");r.id="pbg-blocks__toolbar-buttons",e.insertBefore(r,t),Tt=(0,o.createRoot)(r),Tt.render((0,yt.jsx)(Ot,{})),Pt=!0}},It=(e=0)=>{const t=document.querySelector('iframe[name="editor-canvas"]');let r;if(r=t&&t.contentDocument?t.contentDocument.body:document.body,!r)return;const n=r.querySelector(".is-root-container");if(!n)return void(e<10&&setTimeout(()=>It(e+1),1e3));if(!n.querySelector(".pbg-appender-template-button")){const e=document.createElement("button");e.className="pbg-appender-template-button",e.innerHTML='\n            <svg\n                id="Layer_1"\n                xmlns="http://www.w3.org/2000/svg"\n                width="24"\n                height="24"\n                viewBox="0 0 19.71 19.12"\n            >\n                <g id="Global_Settings">\n                    <path\n                        d="M19.34,6.4c-.57-1.68-1.92-3.12-3.42-4.12C13.72.75,11.13.09,8.7,0c-1.04-.05-2.04.11-3,.35C2.07,1.4-.32,5,.12,9.03c.19,1.89.89,3.8,1.94,5.53,1,1.52,2.34,2.93,3.99,3.7,1.8.88,3.8,1.09,5.51.61,2.16-.55,3.8-2.04,5.11-3.69.66-.78,1.21-1.65,1.69-2.56.39-.76.78-1.52.99-2.38.34-1.18.46-2.52-.01-3.84ZM13.86,12.13c-.78.23-1.65.15-2.39-.33-.13-.09-.58-.51-.93-.88l-.18-.19-.4-.43-.37-.4h-.02s-1.71-1.91-1.71-1.91c-.5-.34-1.07-.37-1.54-.19-.79.29-1.35,1.16-1.07,2.12.17.58.59.95,1.07,1.12.92.32,2.11-.1,2.39-1.2.08.04.78.86.81.95.07.2-.5.78-.68.93-.71.6-1.62.8-2.52.61-.07,0-.13-.03-.2-.04-.31-.09-.62-.33-.95-.36v2.22h-1.22v-5.22c0-.06.12-.43.16-.52.32-.97,1.21-1.7,2.21-1.93.72-.17,1.49-.07,2.13.38.15.1.72.69,1.12,1.14l.08.1.73.82.16.17c.63.72,1.3,1.64,2.22,1.75.42.05.79,0,1.1-.14,1.15-.48,1.52-1.95.27-2.84-.09-.06-.17-.12-.27-.16-1.13-.56-2.43.24-2.56,1.53l-1.21-1.44v-3.27h1.21v2.29c.36-.07.66-.35,1-.46.54-.15,1.07-.13,1.56.01,1.31.38,2.32,1.67,2.23,3.11-.07,1.33-1.05,2.33-2.23,2.66Z"\n                    />\n                </g>\n            </svg>\n            <span>Insert Template</span>\n        ',e.title=(0,ot.__)("Insert Template","premium-blocks-for-gutenberg"),e.onclick=e=>{e.preventDefault(),e.stopPropagation(),window.dispatchEvent(new CustomEvent("pbgOpenTemplateModal"))};const t=n.querySelector(".ablocks-add-section");t?n.insertBefore(e,t):n.appendChild(e)}const o=new MutationObserver(()=>{o.disconnect();const e=n.querySelector(".pbg-appender-template-button");if(e){const t=n.querySelector(".ablocks-add-section");t&&e!==t.previousElementSibling?n.insertBefore(e,t):t||e===n.lastElementChild||n.appendChild(e)}else{const e=document.createElement("button");e.className="pbg-appender-template-button",e.innerHTML='\n                <svg\n                    id="Layer_1"\n                    xmlns="http://www.w3.org/2000/svg"\n                    width="24"\n                    height="24"\n                    viewBox="0 0 19.71 19.12"\n                >\n                    <g id="Global_Settings">\n                        <path\n                            d="M19.34,6.4c-.57-1.68-1.92-3.12-3.42-4.12C13.72.75,11.13.09,8.7,0c-1.04-.05-2.04.11-3,.35C2.07,1.4-.32,5,.12,9.03c.19,1.89.89,3.8,1.94,5.53,1,1.52,2.34,2.93,3.99,3.7,1.8.88,3.8,1.09,5.51.61,2.16-.55,3.8-2.04,5.11-3.69.66-.78,1.21-1.65,1.69-2.56.39-.76.78-1.52.99-2.38.34-1.18.46-2.52-.01-3.84ZM13.86,12.13c-.78.23-1.65.15-2.39-.33-.13-.09-.58-.51-.93-.88l-.18-.19-.4-.43-.37-.4h-.02s-1.71-1.91-1.71-1.91c-.5-.34-1.07-.37-1.54-.19-.79.29-1.35,1.16-1.07,2.12.17.58.59.95,1.07,1.12.92.32,2.11-.1,2.39-1.2.08.04.78.86.81.95.07.2-.5.78-.68.93-.71.6-1.62.8-2.52.61-.07,0-.13-.03-.2-.04-.31-.09-.62-.33-.95-.36v2.22h-1.22v-5.22c0-.06.12-.43.16-.52.32-.97,1.21-1.7,2.21-1.93.72-.17,1.49-.07,2.13.38.15.1.72.69,1.12,1.14l.08.1.73.82.16.17c.63.72,1.3,1.64,2.22,1.75.42.05.79,0,1.1-.14,1.15-.48,1.52-1.95.27-2.84-.09-.06-.17-.12-.27-.16-1.13-.56-2.43.24-2.56,1.53l-1.21-1.44v-3.27h1.21v2.29c.36-.07.66-.35,1-.46.54-.15,1.07-.13,1.56.01,1.31.38,2.32,1.67,2.23,3.11-.07,1.33-1.05,2.33-2.23,2.66Z"\n                        />\n                    </g>\n                </svg>\n                <span>Insert Template</span>\n            ',e.title=(0,ot.__)("Insert Template","premium-blocks-for-gutenberg"),e.onclick=e=>{e.preventDefault(),e.stopPropagation(),window.dispatchEvent(new CustomEvent("pbgOpenTemplateModal"))},n.appendChild(e)}o.observe(n,{childList:!0,subtree:!0})});o.observe(n,{childList:!0,subtree:!0})};let Rt;Rt=(0,n.subscribe)(()=>{const e=document.querySelector(".editor-post-title__input"),t=document.getElementById("site-editor"),r=document.querySelector(".editor-header__toolbar"),n=document.querySelector('iframe[name="editor-canvas"]'),o=document.querySelector("#pbg-blocks__toolbar-buttons"),s=document.querySelector("#pbg-blocks__editor-body-buttons");if((!o||!s)&&((e||t&&r)&&(Mt(),It(),Rt()),n)){const e=n.contentDocument.body;if(e&&0!==e?.childNodes?.length){const n=e.querySelector(".is-root-container"),o=e.querySelector(".block-editor-default-block-appender"),s=e.querySelector(".block-editor-block-list__block");null!=n&&(s||o||t)&&r&&(Mt(),It(),Rt())}}})})();